# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
# config/services.yaml
parameters: {}

services:
  # Defaults for services in this file
  _defaults:
    autowire: true # Injecte automatiquement les dépendances par type-hint
    autoconfigure: true # Ajoute automatiquement les tags (commands, subscribers, etc.)

  # Expose toutes les classes de src/ comme services (sauf exclusions)
  App\:
    resource: "../src/"
    exclude:
      - "../src/DependencyInjection/"
      - "../src/Entity/"
      - "../src/Kernel.php"

  # Client MongoDB injecté (URL lue depuis .env -> MONGODB_URI)
  MongoDB\Client:
    arguments:
      $uri: "%env(resolve:MONGODB_URI)%"

  # add more service definitions when explicit configuration is needed
  # please note that last definitions always *replace* previous ones
